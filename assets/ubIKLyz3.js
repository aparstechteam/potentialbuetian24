import{x as le,y as O,_ as re,z as Z,A as se,B as N,C as T,D as ue,E as de,o as g,c as y,a as u,G as I,H as ee,I as ce,J as q,K as fe,d as E,t as $,n as P,k as L,L as me,r as B,M as R,g as te,N as pe,O as ve,P as ge,Q as F,b as p,w as M,h as s,R as ye,S as K,F as Q,m as z,q as be,s as j,i as ne,v as oe,j as ae,T as _e}from"./C9tFuwKN.js";import{_ as he}from"./Bz-k7Vmd.js";import{_ as xe}from"./WFGENjkP.js";import{u as Ce,_ as ke}from"./DrvTRAcY.js";import{u as Ve}from"./Dxp_vheJ.js";import{_ as we}from"./BTU2_GUE.js";import{_ as Se}from"./oHy2DeQ4.js";import{_ as qe}from"./DVSXTTLG.js";import"./CIhAiBIl.js";const Ue={wrapper:"relative flex items-start",container:"flex items-center h-5",base:"h-4 w-4 dark:checked:bg-current dark:checked:border-transparent dark:indeterminate:bg-current dark:indeterminate:border-transparent disabled:opacity-50 disabled:cursor-not-allowed focus:ring-0 focus:ring-transparent focus:ring-offset-transparent",form:"form-checkbox",rounded:"rounded",color:"text-{color}-500 dark:text-{color}-400",background:"bg-white dark:bg-gray-900",border:"border border-gray-300 dark:border-gray-700",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",inner:"ms-3 flex flex-col",label:"text-sm font-medium text-gray-700 dark:text-gray-200",required:"text-sm text-red-500 dark:text-red-400",help:"text-sm text-gray-500 dark:text-gray-400",default:{color:"primary"}},H=le(O.ui.strategy,O.ui.checkbox,Ue),je=Z({inheritAttrs:!1,props:{id:{type:String,default:()=>null},value:{type:[String,Number,Boolean,Object],default:null},modelValue:{type:[Boolean,Array],default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:void 0},help:{type:String,default:null},label:{type:String,default:null},required:{type:Boolean,default:!1},color:{type:String,default:()=>H.default.color,validator(e){return O.ui.colors.includes(e)}},inputClass:{type:String,default:""},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:o}){const{ui:n,attrs:a}=se("checkbox",N(e,"ui"),H,N(e,"class")),{emitFormChange:r,color:t,name:d,inputId:f}=Ce(e),i=f.value??Ve("$w0Dlaqhaps"),x=T({get(){return e.modelValue},set(_){o("update:modelValue",_)}}),m=_=>{o("change",_.target.checked),r()},c=T(()=>ue(de(n.value.base,n.value.form,n.value.rounded,n.value.background,n.value.border,t.value&&n.value.ring.replaceAll("{color}",t.value),t.value&&n.value.color.replaceAll("{color}",t.value)),e.inputClass));return{ui:n,attrs:a,toggle:x,inputId:i,name:d,inputClass:c,onChange:m}}}),Ee=["data-n-ids"],Me=["id","name","required","value","disabled","indeterminate"],$e=["for"];function Be(e,o,n,a,r,t){return g(),y("div",{class:q(e.ui.wrapper),"data-n-ids":e.attrs["data-n-ids"]},[u("div",{class:q(e.ui.container)},[I(u("input",ce({id:e.inputId,"onUpdate:modelValue":o[0]||(o[0]=d=>e.toggle=d),name:e.name,required:e.required,value:e.value,disabled:e.disabled,indeterminate:e.indeterminate,type:"checkbox",class:e.inputClass},e.attrs,{onChange:o[1]||(o[1]=(...d)=>e.onChange&&e.onChange(...d))}),null,16,Me),[[ee,e.toggle]])],2),e.label||e.$slots.label?(g(),y("div",{key:0,class:q(e.ui.inner)},[u("label",{for:e.inputId,class:q(e.ui.label)},[fe(e.$slots,"label",{},()=>[E($(e.label),1)]),e.required?(g(),y("span",{key:0,class:q(e.ui.required)},"*",2)):P("",!0)],10,$e),e.help?(g(),y("p",{key:0,class:q(e.ui.help)},$(e.help),3)):P("",!0)],2)):P("",!0)],10,Ee)}const Pe=re(je,[["render",Be]]);var Ie=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],De=function(e){return Ie.map(function(o){return o.toLowerCase()}).indexOf(e.toLowerCase())!==-1},Ae=function(e,o,n){Object.keys(o).filter(De).forEach(function(a){var r=o[a];typeof r=="function"&&(a==="onInit"?r(e,n):n.on(a.substring(2),function(t){return r(t,n)}))})},Oe=function(e,o,n,a){var r=e.modelEvents?e.modelEvents:null,t=Array.isArray(r)?r.join(" "):r;L(a,function(d,f){n&&typeof d=="string"&&d!==f&&d!==n.getContent({format:e.outputFormat})&&n.setContent(d)}),n.on(t||"change input undo redo",function(){o.emit("update:modelValue",n.getContent({format:e.outputFormat}))})},Le=function(e,o,n,a,r,t){a.setContent(t()),n.attrs["onUpdate:modelValue"]&&Oe(o,n,a,r),Ae(e,n.attrs,a)},G=0,ie=function(e){var o=Date.now(),n=Math.floor(Math.random()*1e9);return G++,e+"_"+n+G+String(o)},Qe=function(e){return e!==null&&e.tagName.toLowerCase()==="textarea"},J=function(e){return typeof e>"u"||e===""?[]:Array.isArray(e)?e:e.split(" ")},ze=function(e,o){return J(e).concat(J(o))},Ne=function(e){return e==null},W=function(){return{listeners:[],scriptId:ie("tiny-script"),scriptLoaded:!1}},Te=function(){var e=W(),o=function(r,t,d,f){var i=t.createElement("script");i.referrerPolicy="origin",i.type="application/javascript",i.id=r,i.src=d;var x=function(){i.removeEventListener("load",x),f()};i.addEventListener("load",x),t.head&&t.head.appendChild(i)},n=function(r,t,d){e.scriptLoaded?d():(e.listeners.push(d),r.getElementById(e.scriptId)||o(e.scriptId,r,t,function(){e.listeners.forEach(function(f){return f()}),e.scriptLoaded=!0}))},a=function(){e=W()};return{load:n,reinitialize:a}},Re=Te(),Fe=function(){return typeof window<"u"?window:global},U=function(){var e=Fe();return e&&e.tinymce?e.tinymce:null},Ke={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return e==="html"||e==="text"}}},k=function(){return k=Object.assign||function(e){for(var o,n=1,a=arguments.length;n<a;n++){o=arguments[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},k.apply(this,arguments)},He=function(e,o,n,a){return e(a||"div",{id:o,ref:n})},Ge=function(e,o,n){return e("textarea",{id:o,visibility:"hidden",ref:n})},A={selector:void 0,target:void 0},Y=Z({props:Ke,setup:function(e,o){var n=e.init?k(k({},e.init),A):k({},A),a=me(e),r=a.disabled,t=a.modelValue,d=a.tagName,f=B(null),i=null,x=e.id||ie("tiny-vue"),m=e.init&&e.init.inline||e.inline,c=!!o.attrs["onUpdate:modelValue"],_=!0,h=e.initialValue?e.initialValue:"",V="",S=function(v){return c?function(){return t!=null&&t.value?t.value:""}:function(){return v?h:V}},C=function(){var v=S(_),l=k(k({},n),{readonly:e.disabled,target:f.value,plugins:ze(n.plugins,e.plugins),toolbar:e.toolbar||n.toolbar,inline:m,setup:function(b){i=b,b.on("init",function(w){return Le(w,e,o,b,t,v)}),typeof n.setup=="function"&&n.setup(b)}});Qe(f.value)&&(f.value.style.visibility=""),U().init(l),_=!1};L(r,function(v){var l;i!==null&&(typeof((l=i.mode)===null||l===void 0?void 0:l.set)=="function"?i.mode.set(v?"readonly":"design"):i.setMode(v?"readonly":"design"))}),L(d,function(v){var l;c||(V=i.getContent()),(l=U())===null||l===void 0||l.remove(i),R(function(){return C()})}),te(function(){if(U()!==null)C();else if(f.value&&f.value.ownerDocument){var v=e.cloudChannel?e.cloudChannel:"6",l=e.apiKey?e.apiKey:"no-api-key",b=Ne(e.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(l,"/tinymce/").concat(v,"/tinymce.min.js"):e.tinymceScriptSrc;Re.load(f.value.ownerDocument,b,C)}}),pe(function(){U()!==null&&U().remove(i)}),m||(ve(function(){_||C()}),ge(function(){var v;c||(V=i.getContent()),(v=U())===null||v===void 0||v.remove(i)}));var D=function(v){var l;V=i.getContent(),(l=U())===null||l===void 0||l.remove(i),n=k(k(k({},n),v),A),R(function(){return C()})};return o.expose({rerender:D,getEditor:function(){return i}}),function(){return m?He(F,x,f,e.tagName):Ge(F,x,f)}}});const Je=["Physics 1st Paper","Physics 2nd Paper","Chemistry 1st Paper","Chemistry 2nd Paper","Higher Math 1st Paper","Higher Math 2nd Paper"],We=["None","Easy","Medium","Hard"],X={min_height:200,menubar:!1,plugins:"lists link image table code help wordcount table autoresize",toolbar:"undo redo | subscript | superscript | formatselect | bold italic underline backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | image | table | wordcount"},Ye={key:0,class:"p-5"},Xe=u("div",null,[u("h1",{class:"text-lg font-semibold text-center"}," Create New MCQ ")],-1),Ze={class:"my-3 space-y-5"},et={class:"sticky top-0 z-10 grid grid-cols-3 gap-5 py-5 bg-white"},tt={class:"flex flex-wrap mb-6 -mx-3"},nt={class:"w-full px-3 mb-6 md:mb-0"},ot={class:"flex items-center justify-between"},at=u("label",{class:"block mb-2 text-xs font-bold tracking-wide text-gray-700 uppercase",for:"grid-question"},"Question",-1),it={class:"inline-flex items-center space-x-2"},lt=u("label",{class:"block mb-2 text-xs font-bold tracking-wide text-gray-700 uppercase",for:"grid-question"},"Rich Text",-1),rt={key:1},st={class:"space-y-3"},ut={class:"flex items-center justify-between"},dt={key:1},ct={class:"py-2 my-3 text-center"},ft={__name:"ManageQuestion",props:{question:{type:Object},label:{type:String,default:"Create MCQ"},isEdit:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:o}){const{$axios:n}=ae(),a=e,r=B(!1),t=B(a.isEdit?{question:a.question.question,options:a.question.options.map(m=>({option_text:m.option_text,correct:m.correct})),subject:a.question.subject,difficulty:a.question.difficulty}:{question:"",options:[{option_text:"",correct:!1},{option_text:"",correct:!1},{option_text:"",correct:!1},{option_text:"",correct:!1}],subject:"",difficulty:""}),d=B({question:!0,a:!0,b:!0,c:!0,d:!0,subject:"",difficulty:""}),f=o,i=B(!1),x=async()=>{if(i.value=!0,t.value.options.filter(m=>m.correct).length==0){j().add({title:"Please select correct answer"}),i.value=!1;return}if(t.value.options.filter(m=>m.option_text.trim()=="").length>0){j().add({title:"Please fill all the options"}),i.value=!1;return}if(t.value.question.trim()==""){j().add({title:"Please fill the question"}),i.value=!1;return}try{if(a.isEdit){(await n.put("/questions/"+a.question._id,t.value)).status==201&&(f("close"),j().add({title:"Question edited successfully"})),i.value=!1,r.value=!1;return}const{status:m}=await n.post("/questions",t.value);m===201&&(t.value={question:"",options:[{option_text:"",correct:!1},{option_text:"",correct:!1},{option_text:"",correct:!1},{option_text:"",correct:!1}],subject:"",difficulty:""},r.value=!1,j().add({title:"Question Uploaded"}),f("close")),i.value=!1}catch(m){console.log(m),j().add({title:"Something went wrong",description:m.response.data.message})}finally{i.value=!1}};return(m,c)=>{const _=ne,h=oe,V=he,S=xe,C=Pe,D=ke,v=we;return g(),y("div",null,[p(h,{onClick:c[0]||(c[0]=l=>r.value=!0)},{default:M(()=>[p(_,{name:e.isEdit?"lucide:edit":"lucide:plus"},null,8,["name"]),E(" "+$(e.label),1)]),_:1}),p(v,{modelValue:s(r),"onUpdate:modelValue":c[6]||(c[6]=l=>be(r)?r.value=l:null),ui:{width:"md:max-w-2xl w-full"}},{default:M(()=>[s(t)?(g(),y("div",Ye,[Xe,u("form",{onSubmit:ye(x,["prevent"])},[u("div",Ze,[u("div",et,[p(V,{modelValue:s(t).subject,"onUpdate:modelValue":c[1]||(c[1]=l=>s(t).subject=l),options:s(Je),label:"Subject",placeholder:"Select Subject"},null,8,["modelValue","options"]),p(V,{modelValue:s(t).difficulty,"onUpdate:modelValue":c[2]||(c[2]=l=>s(t).difficulty=l),options:s(We),label:"Difficulty",placeholder:"Select Difficulty"},null,8,["modelValue","options"])])]),u("div",tt,[u("div",nt,[u("div",ot,[at,u("div",it,[lt,I(u("input",{type:"checkbox",class:"-mt-2 checkbox checkbox-primary","onUpdate:modelValue":c[3]||(c[3]=l=>s(d).question=l)},null,512),[[ee,s(d).question]])])]),s(d).question?(g(),y("div",rt,[p(s(Y),{modelValue:s(t).question,"onUpdate:modelValue":c[5]||(c[5]=l=>s(t).question=l),"api-key":"dhu3tqgm970fbnm2joay4oofjz7xjpaa9cu3tlsxe8bz1m4o",init:s(X)},null,8,["modelValue","init"])])):(g(),K(S,{key:0,modelValue:s(t).question,"onUpdate:modelValue":c[4]||(c[4]=l=>s(t).question=l),placeholder:"Question"},null,8,["modelValue"]))])]),u("div",st,[(g(),y(Q,null,z(["a","b","c","d"],(l,b)=>u("div",{key:b,class:"w-full p-1 space-y-2"},[u("div",ut,[p(C,{modelValue:s(t).options[b].correct,"onUpdate:modelValue":w=>s(t).options[b].correct=w,label:`Question ${l.toUpperCase()}`},null,8,["modelValue","onUpdate:modelValue","label"]),p(C,{modelValue:s(d)[l],"onUpdate:modelValue":w=>s(d)[l]=w,label:"Rich Text"},null,8,["modelValue","onUpdate:modelValue"])]),s(d)[l]?(g(),y("div",dt,[p(s(Y),{modelValue:s(t).options[b].option_text,"onUpdate:modelValue":w=>s(t).options[b].option_text=w,"api-key":"dhu3tqgm970fbnm2joay4oofjz7xjpaa9cu3tlsxe8bz1m4o",init:s(X)},null,8,["modelValue","onUpdate:modelValue","init"])])):(g(),K(D,{key:0,modelValue:s(t).options[b].option_text,"onUpdate:modelValue":w=>s(t).options[b].option_text=w,placeholder:"Answer"},null,8,["modelValue","onUpdate:modelValue"]))])),64))]),u("div",ct,[p(h,{size:"md",class:q({loading:s(i)}),type:"submit"},{default:M(()=>[E($(e.isEdit?"Update":"Create")+" MCQ ",1)]),_:1},8,["class"])])],32)])):P("",!0)]),_:1},8,["modelValue"])])}}},mt={key:0},pt={class:"flex justify-between print:hidden"},vt=u("h1",{class:"text-2xl font-semibold"},"Questions",-1),gt={class:"my-5 space-y-5"},yt={class:"flex gap-3"},bt={class:"mt-3 text-lg font-semibold"},_t={class:"flex flex-wrap gap-3 mt-4"},ht={class:"flex gap-3 items-center mt-3 print:hidden"},xt={key:1},Mt={__name:"questions",setup(e){const{$axios:o}=ae(),n=B(null),a=async()=>{const{data:t}=await o("/questions");n.value=t.questions},r=async t=>{confirm("Are you sure you want to delete this question?")&&(await o.delete(`/questions/${t}`),j().add({title:"Question deleted successfully"}),a())};return te(()=>{a()}),(t,d)=>{const f=ft,i=Se,x=ne,m=oe,c=qe,_=_e("katex");return s(n)?(g(),y("div",mt,[u("div",pt,[vt,p(f,{onClose:a})]),u("div",gt,[(g(!0),y(Q,null,z(s(n),(h,V)=>(g(),y("div",{key:h._id,class:"p-5 border rounded-2xl"},[u("div",yt,[p(i,{color:"amber"},{default:M(()=>[E(" Q. "+$(V+1),1)]),_:2},1024),p(i,{color:"blue"},{default:M(()=>[E($(h.subject),1)]),_:2},1024),p(i,{color:"orange"},{default:M(()=>[E($(h.difficulty),1)]),_:2},1024)]),I(u("div",bt,null,512),[[_,h.question]]),u("div",_t,[(g(!0),y(Q,null,z(h.options,(S,C)=>(g(),y("div",{key:C},[u("div",{class:q(["p-2 rounded-lg border",{"border-2 border-black":S.correct,"bg-white":!S.correct}])},[I(u("div",null,null,512),[[_,S.option_text]])],2)]))),128))]),u("div",ht,[p(f,{question:h,label:"Edit Question",isEdit:!0,onClose:a},null,8,["question"]),p(m,{onClick:S=>r(h._id),color:"red"},{default:M(()=>[p(x,{name:"lucide:trash"}),E(" Delete ")]),_:2},1032,["onClick"])])]))),128))])])):(g(),y("div",xt,[p(c)]))}}};export{Mt as default};
